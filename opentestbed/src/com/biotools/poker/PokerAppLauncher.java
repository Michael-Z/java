package com.biotools.poker;

import java.io.File;
import java.net.MalformedURLException;
import java.net.URL;

import javax.swing.ImageIcon;

import com.vastmind.loader.Launcher;

public final class PokerAppLauncher
{
	public static Launcher	launcher;
	public static String	munge;

	public PokerAppLauncher(String className)
	{
		init();
		try
		{
			loadLocal(className);
		}
		catch (ClassNotFoundException e)
		{
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}

	public PokerAppLauncher()
	{
		init();
	}

	private void init()
	{
		File f = new File("data/meerkat.xzf");

		launcher = new Launcher(f);
		byte[] x = new byte[8];
		x[1] = 48;
		x[3] = 57;
		x[6] = 121;
		x[4] = 46;
		x[2] = 57;
		x[0] = 103;
		x[7] = 49;
		x[5] = 82;

		if (munge != null)
		{
			for (int i = 0; i < x.length; i++)
			{
				int tmp83_81 = i;
				byte[] tmp83_80 = x;
				tmp83_80[tmp83_81] = ((byte) (tmp83_80[tmp83_81] + (byte) munge.charAt(i)));
			}
		}
		String m_key = new String(x);
		launcher.setKeyStr(m_key);
	}

	public Class loadLocal(String className) throws ClassNotFoundException
	{
		return launcher.loadClass(className);
	}

	private static URL makeURL(String str)
	{
		try
		{
			return new URL(str);
		}
		catch (MalformedURLException localMalformedURLException)
		{
		}
		return null;
	}

	public static ImageIcon loadImageIcon(String name)
	{
		if (launcher == null)
			return null;
		return launcher.loadImageIcon(name);
	}
}
